(this["webpackJsonpdigitalk-test"]=this["webpackJsonpdigitalk-test"]||[]).push([[0],Array(27).concat([function(e,t,n){e.exports=n.p+"static/media/blue-sensor.e1323413.svg"},function(e,t,n){e.exports=n.p+"static/media/red-rounded-button.32a66b59.svg"},function(e,t,n){e.exports=n.p+"static/media/green-rounded-button.c73fdc2d.svg"},function(e,t,n){e.exports=n.p+"static/media/yellow-rounded-button.61c156dc.svg"},function(e,t,n){e.exports=n.p+"static/media/background-decoration-line.a236f90f.svg"},function(e,t,n){e.exports=n.p+"static/media/pokeball-solid-black.5118a093.svg"},function(e,t,n){e.exports=n.p+"static/media/search.1684f16d.svg"},,,,function(e,t,n){e.exports=n.p+"static/media/left-marker.ff961533.svg"},,function(e,t,n){e.exports=n(81)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){var a={"./bug.svg":62,"./dark.svg":63,"./dragon.svg":64,"./electric.svg":65,"./fairy.svg":66,"./fighting.svg":67,"./fire.svg":68,"./flying.svg":69,"./ghost.svg":70,"./grass.svg":71,"./ground.svg":72,"./ice.svg":73,"./normal.svg":74,"./poison.svg":75,"./psychic.svg":76,"./rock.svg":77,"./steel.svg":78,"./water.svg":79};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=61},function(e,t,n){e.exports=n.p+"static/media/bug.700eb952.svg"},function(e,t,n){e.exports=n.p+"static/media/dark.8c7244ba.svg"},function(e,t,n){e.exports=n.p+"static/media/dragon.1ae91a5b.svg"},function(e,t,n){e.exports=n.p+"static/media/electric.67c45539.svg"},function(e,t,n){e.exports=n.p+"static/media/fairy.c513c722.svg"},function(e,t,n){e.exports=n.p+"static/media/fighting.9530ca76.svg"},function(e,t,n){e.exports=n.p+"static/media/fire.638ac0cc.svg"},function(e,t,n){e.exports=n.p+"static/media/flying.c6f84c5d.svg"},function(e,t,n){e.exports=n.p+"static/media/ghost.67437e02.svg"},function(e,t,n){e.exports=n.p+"static/media/grass.9a7e5f04.svg"},function(e,t,n){e.exports=n.p+"static/media/ground.4a3160fd.svg"},function(e,t,n){e.exports=n.p+"static/media/ice.6f70d7f3.svg"},function(e,t,n){e.exports=n.p+"static/media/normal.e9719d58.svg"},function(e,t,n){e.exports=n.p+"static/media/poison.8ef6014c.svg"},function(e,t,n){e.exports=n.p+"static/media/psychic.3fda20b5.svg"},function(e,t,n){e.exports=n.p+"static/media/rock.082f2603.svg"},function(e,t,n){e.exports=n.p+"static/media/steel.b2124012.svg"},function(e,t,n){e.exports=n.p+"static/media/water.d80faff9.svg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),s=n.n(r),c=n(4),i=n(5),l=n(7),p=n(6),m=n(8),u=(n(44),n(45),n(12)),d=n(16),f=n(27),g=n.n(f),v=n(28),h=n.n(v),k=n(29),b=n.n(k),E=n(30),y=n.n(E),x=n(31),O=n.n(x),w=n(32),N=n.n(w),S=n(10),j=n(17);n(46);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"text"},t=Object(S.a)({},e,{children:null});return o.a.createElement("div",{className:"text-input-container"},o.a.createElement("input",Object.assign({},t,{className:["text-input"].concat(Object(j.a)(e.className||[])).join(" ")})),e.children)},P=n(33),T=n.n(P);n(47);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"text"},t=Object(S.a)({},e);return delete t.onSearch,o.a.createElement(C,Object.assign({},t,{onKeyPress:function(t){"Enter"===t.key&&e.onSearch()}}),o.a.createElement("button",{className:"search-input-button",onClick:e.onSearch},o.a.createElement("img",{src:T.a,alt:"Search Pokem\xf3ns button"})))},I=(n(48),n(14)),L=n(1),U=n.n(L),J="https://pokeapi.co/api/v2/",Q="https://pokeres.bastionbot.org/images/pokemon/",q=n(15),z=n(35),D={list:[],loadingList:!1,selected:{},loadingSelected:!1,query:""},A={list:[]},F=Object(q.c)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add-pokemons":return Object(S.a)({},e,{list:t.pokemons.slice().sort((function(e,t){return e.id-t.id}))});case"add-pokemon":return Object(S.a)({},e,{list:[].concat(Object(j.a)(e.list),[t.pokemon]).slice().sort((function(e,t){return e.id-t.id}))});case"update-pokemon":return Object(S.a)({},e,{list:e.list.map((function(e){return e.id===t.pokemon.id?t.pokemon:e}))});case"select-pokemon":return Object(S.a)({},e,{selected:e.list.filter((function(e){return e.id===t.id}))[0]||{}});case"update-search-pokemon":return Object(S.a)({},e,{query:t.query});case"loading-pokemon-selected":return Object(S.a)({},e,{loadingSelected:t.loading});case"loading-pokemon-list":return Object(S.a)({},e,{loadingList:t.loading});default:return e}},pokemonsSpecies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add-pokemon-species":return{list:t.pokemonSpecies};default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||q.d,B=Object(q.e)(F,M(Object(q.a)(z.a)));function W(e,t){var n,a;return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,U.a.awrap(fetch("".concat(J,"pokemon/").concat(e)));case 2:return n=o.sent,o.next=5,U.a.awrap(n.json());case 5:return a=o.sent,t={id:a.id,name:a.name,species:a.species,types:a.types.map((function(e){return e.type})),weight:a.weight,height:a.height},o.abrupt("return",t);case 8:case"end":return o.stop()}}))}function G(e){var t,n,a,o,r,s,c,i;return U.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.name,l.next=3,U.a.awrap(fetch(e.species.url));case 3:return n=l.sent,l.next=6,U.a.awrap(n.json());case 6:return a=l.sent,l.next=9,U.a.awrap(fetch(a.evolution_chain.url));case 9:return o=l.sent,l.next=12,U.a.awrap(o.json());case 12:for(r=l.sent,s=a.names.filter((function(e){return"en"===e.language.name}))[0].name,c=r.chain;null!=c&&c.species.name!==t;)c=c.evolves_to.filter((function(e){return e.species.name===t}))[0];c=c?c.evolves_to[0]:null,i=null!=c?c.species:null,e.formattedName=s,i&&(e.evolvesTo=i);case 20:case"end":return l.stop()}}))}function R(e){return e.url.substr(e.url.lastIndexOf("/",e.url.length-2)+1).slice(0,-1)}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};B.dispatch((function(t){var n,a,o,r,s,c,i,l,p;return U.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:m.prev=0,t({type:"loading-pokemon-list",loading:!0}),n=B.getState(),a=n.pokemonsSpecies.list.slice().sort((function(e,t){return R(e)-R(t)})),o=a.map((function(e){return e.name})),r=!0,s=!1,c=void 0,m.prev=8,i=function(){var e,a;return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=p.value,!(a=localStorage.getItem("".concat("pokemon","-").concat(e)))){o.next=8;break}return a=JSON.parse(a),o.next=6,U.a.awrap(new Promise((function(e){return setTimeout(e,75)})));case 6:o.next=14;break;case 8:return o.next=10,U.a.awrap(W(e,a));case 10:return a=o.sent,localStorage.setItem("".concat("pokemon","-").concat(e),JSON.stringify(a)),o.next=14,U.a.awrap(new Promise((function(e){return setTimeout(e,150)})));case 14:0===(n=B.getState()).pokemons.list.filter((function(e){return e.id===a.id})).length&&t({type:"add-pokemon",pokemon:a});case 16:case"end":return o.stop()}}))},l=o[Symbol.iterator]();case 11:if(r=(p=l.next()).done){m.next=17;break}return m.next=14,U.a.awrap(i());case 14:r=!0,m.next=11;break;case 17:m.next=23;break;case 19:m.prev=19,m.t0=m.catch(8),s=!0,c=m.t0;case 23:m.prev=23,m.prev=24,r||null==l.return||l.return();case 26:if(m.prev=26,!s){m.next=29;break}throw c;case 29:return m.finish(26);case 30:return m.finish(23);case 31:e(),m.next=37;break;case 34:throw m.prev=34,m.t1=m.catch(0),m.t1;case 37:return m.prev=37,t({type:"loading-pokemon-list",loading:!1}),m.finish(37);case 40:case"end":return m.stop()}}),null,null,[[0,34,37,40],[8,19,23,31],[24,,26,30]])}))}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";B.dispatch({type:"update-search-pokemon",query:e.trim()})}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{B.dispatch((function(t){var n,a;return U.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t({type:"loading-pokemon-selected",loading:!0}),n=B.getState(),a=n.pokemons.list.filter((function(t){return t.name===e}))[0]){o.next=14;break}if(!(a=localStorage.getItem("".concat("pokemon","-").concat(e)))){o.next=9;break}a=JSON.parse(a),o.next=13;break;case 9:return o.next=11,U.a.awrap(W(e,a));case 11:a=o.sent,localStorage.setItem("".concat("pokemon","-").concat(e),JSON.stringify(a));case 13:t({type:"add-pokemon",pokemon:a});case 14:if(a.formattedName){o.next=19;break}return o.next=17,U.a.awrap(G(a));case 17:localStorage.setItem("".concat("pokemon","-").concat(e),JSON.stringify(a)),t({type:"update-pokemon",pokemon:a});case 19:t({type:"select-pokemon",id:a.id}),t({type:"loading-pokemon-selected",loading:!1});case 21:case"end":return o.stop()}}))}))}catch(t){throw t}}var V=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={pokemonQuery:""},n.onSearchTextChange=function(e){var t=e.target.value;n.setState({pokemonQuery:t})},n.onSearchClick=function(){X(n.state.pokemonQuery)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.pokemonQuery!==e.pokemonQuery&&this.setState({pokemonQuery:e.pokemonQuery}),!0}},{key:"render",value:function(){return o.a.createElement("div",{className:"pokedex-layout"},o.a.createElement("div",{className:"background-pokeball"},o.a.createElement("img",{src:N.a,"aria-hidden":"true",alt:""})),o.a.createElement("nav",null,o.a.createElement(u.b,{to:"/"},o.a.createElement("div",{className:"pokemon-buttons"},o.a.createElement("img",{className:"blue-sensor",src:g.a,alt:"Pok\xe9mon's blue sensor"}),o.a.createElement("img",{className:"red-rounded-button",src:h.a,alt:"Pok\xe9mon's red rounded button"}),o.a.createElement("img",{className:"yellow-rounded-button",src:y.a,alt:"Pok\xe9mon's yellow rounded button"}),o.a.createElement("img",{className:"green-rounded-button",src:b.a,alt:"Pok\xe9mon's green rounded button"}))),o.a.createElement("div",{className:"pokedex-title"},o.a.createElement(u.b,{to:"/"},o.a.createElement("h1",null,o.a.createElement("span",null,"Pok\xe9dex")," with React.js"))),o.a.createElement(_,{value:this.state.pokemonQuery,onChange:this.onSearchTextChange,onSearch:this.onSearchClick,className:["a"],placeholder:"Search Pok\xe9mons"})),o.a.createElement("div",{className:"background-decoration"},o.a.createElement("img",{src:O.a,"aria-hidden":"true",alt:""})),o.a.createElement("div",{className:"children-wrapper"},this.props.children))}}]),t}(o.a.Component),$=Object(d.f)(Object(I.b)((function(e){return{pokemonQuery:e.pokemons.query}}))(V)),Y=(n(55),n(37)),Z=n.n(Y);var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""};return o.a.createElement("div",{className:["page-status"].concat(Object(j.a)(e.className||[])).join(" ")},o.a.createElement("img",{src:Z.a,alt:"",className:"left-marker"}),o.a.createElement("div",{className:"text-area"},o.a.createElement("p",null,e.text)))},te=(n(56),n(57),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"inflated-button",onClick:this.props.onClick},o.a.createElement("div",{className:"background-decoration"}),this.props.children)}}]),t}(o.a.Component)),ne=(n(58),n(38)),ae=n.n(ne),oe=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.small;return o.a.createElement("div",{className:["pokemon-type-badge",this.props.name,e?"small":""].join(" ")},o.a.createElement("p",null,this.props.name.substr(0,1).toUpperCase()+this.props.name.substr(1)),o.a.createElement(ae.a,{className:"pokemon-type-icon",src:n(61)("./".concat(this.props.name,".svg"))}))}}]),t}(o.a.Component),re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).goBackToList=function(){n.props.history.push({pathname:"/",search:""})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){K(this.props.match.params.name)}},{key:"render",value:function(){var e,t=this.props,n=t.loadingSelected,a=t.selected,r=this.props.match.params.name;if(n||this.props.match.params.name===a.name||K(r),n||null==a||null==a.id)e=o.a.createElement("div",{className:"pokemon-loading"},o.a.createElement("p",null,"Loading Pok\xe9mon data..."));else{var s=a;r=s.formattedName?s.formattedName:s.name,e=o.a.createElement("div",{className:"pokemon-details"},o.a.createElement("div",{className:"pokemon-image"},o.a.createElement("img",{src:"".concat(Q).concat(s.id,".png"),alt:""})),o.a.createElement("div",{className:"pokemon-details-list"},o.a.createElement("div",{className:"pokemon-name"},o.a.createElement("span",null,"Name"),o.a.createElement("h2",null,r)),o.a.createElement("div",{className:"pokemon-number"},o.a.createElement("span",null,"Number"),o.a.createElement("p",null,"#",s.id)),s.evolvesTo&&o.a.createElement("div",{className:"pokemon-evolves-to"},o.a.createElement("span",null,"Evolves to"),o.a.createElement(u.b,{to:"/".concat(s.evolvesTo.name)},o.a.createElement("p",null,s.evolvesTo.name.substr(0,1).toUpperCase()+s.evolvesTo.name.substr(1)))),o.a.createElement("div",{className:"pokemon-types"},o.a.createElement("span",null,"Types"),o.a.createElement("div",{className:"pokemon-types-list"},s.types.map((function(e){return o.a.createElement(oe,{name:e.name,small:!0,key:e.name})})))),o.a.createElement("div",{className:"pokemon-height"},o.a.createElement("span",null,"Height"),o.a.createElement("p",null,s.height," decimetres")),o.a.createElement("div",{className:"pokemon-weight"},o.a.createElement("span",null,"Weight"),o.a.createElement("p",null,s.weight," hectograms"))))}return o.a.createElement("div",{className:"page-details"},o.a.createElement("div",{className:"page-status-container"},o.a.createElement(ee,{text:'Details about "'.concat(r,'"'),className:["yellow"]}),o.a.createElement(te,{onClick:this.goBackToList},o.a.createElement("p",null,"Go back to list"))),e)}}]),t}(o.a.Component),se=Object(I.b)((function(e){return{loadingSelected:e.pokemons.loadingSelected,selected:e.pokemons.selected}}))(re);n(80);var ce=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={status:"list",listSize:8,listSizeIncrementStep:8},n.clearSearchFilter=function(){X("")},n.onScroll=function(){n.scrollGuard.getClientRects()[0].top-window.innerHeight<=300&&n.state.listSize<n.props.pokemonsSpecies.list.length&&n.setState((function(e){return{listSize:e.listSize+e.listSizeIncrementStep}}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.pokemons.loadingList||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};B.dispatch((function(t){var n,a,o;return U.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t({type:"loading-pokemon-list",loading:!0}),!(n=localStorage.getItem("pokemon-species"))){r.next=7;break}n=JSON.parse(n),r.next=15;break;case 7:return r.next=9,U.a.awrap(fetch(J+"generation/1"));case 9:return a=r.sent,r.next=12,U.a.awrap(a.json());case 12:o=r.sent,n=o.pokemon_species,localStorage.setItem("pokemon-species",JSON.stringify(n));case 15:t({type:"add-pokemon-species",pokemonSpecies:n}),e(),r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(0),r.t0;case 22:case"end":return r.stop()}}),null,null,[[0,19]])}))}(H),window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.pokemons.query!==e.pokemons.query&&this.setState({listSize:8}),!0}},{key:"render",value:function(){var e=this,t=this.props.pokemonsSpecies.list.length-this.props.pokemons.list.length,n=this.props.pokemons.loadingList&&t>0,a=this.props.pokemons.query.trim(),r=a.toUpperCase(),s=(a.length>0?this.props.pokemons.list.filter((function(e){return-1!==e.name.toUpperCase().indexOf(r)})):this.props.pokemons.list).slice(0,this.state.listSize).map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(u.b,{to:"/".concat(e.name)},o.a.createElement("img",{className:"pokemon-image",src:"".concat(Q).concat(e.id,".png"),alt:e.name}),o.a.createElement("div",{className:"pokemon-data"},o.a.createElement("div",{className:"pokemon-name"},o.a.createElement("p",null,e.name.substr(0,1).toUpperCase(),e.name.substr(1)),o.a.createElement("span",null,"#",e.id)),o.a.createElement("div",{className:"pokemon-types"},e.types.map((function(e){return e.name})).map((function(e){return o.a.createElement(oe,{key:e,name:e,small:!0})}))))))}));return o.a.createElement("div",{className:"page-list"},o.a.createElement("div",{className:"page-status-container"},o.a.createElement(ee,{text:0===a.length?"All Pok\xe9mons":'Filtering by "'.concat(a,'"'),className:[0===a.length?"blue":"green"]}),o.a.createElement(o.a.Fragment,null,a.length>0&&o.a.createElement(te,{onClick:this.clearSearchFilter},o.a.createElement("p",null,"Clear search filter")),n&&o.a.createElement("p",{className:"loading-pokemons"},"Loading Pok\xe9mons (",t," left)..."))),o.a.createElement("ul",{className:"pokemons-list"},s),o.a.createElement("div",{ref:function(t){return e.scrollGuard=t}}))}}]),t}(o.a.Component),ie=Object(I.b)((function(e){return{pokemons:e.pokemons,pokemonsSpecies:e.pokemonsSpecies}}))(ce),le=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){"/"===window.location.pathname&&(window.location.pathname="digitalk-test")}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(u.a,{basename:"/digitalk-test"},o.a.createElement(I.a,{store:B},o.a.createElement($,null,o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:ie}),o.a.createElement(d.a,{path:"/:name",component:se}),o.a.createElement(d.a,{path:"*"},o.a.createElement("h1",null,"Page not found.")))))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[39,1,2]]]);
//# sourceMappingURL=main.95a3fa1f.chunk.js.map